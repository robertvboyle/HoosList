{% load static %}
{% load bootstrap5 %}
{% bootstrap_css %}
{% bootstrap_javascript %}
{% load socialaccount %}
{% load lous_extra %}

<head>
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>

<nav class="navbar navbar-expand-md bg-dark navbar-dark sticky-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="/">UVA Courses</a>
      <a class="navbar-brand">Departments</a>
      {% if user.is_authenticated %}
      <a class="navbar-brand" href="/profile/">My Profile</a>
      <a class="navbar-brand" href="/schedule/">My Schedule</a>
      <a class="navbar-brand" href="/all-profiles/">All Profiles</a>
      <a class="navbar-brand" href="/my-invites/">My Invites</a>
      {% endif %}
    </div>
    <ul class="navbar-nav">
      <li class="nav-item">
        {% if user.is_authenticated %}
        <a class="nav-link " href="{% provider_login_url 'google' %}">Signed in as: {{user.first_name}}</a>
        {% else %}
        <a class ="nav-link" href="{% provider_login_url 'google' %}">Login</a>
        {% endif %}
      </li>
      <li class="nav-item">
        {% if user.is_authenticated %}
        <a class="nav-link " href="/logout/">Logout</a>
        {% endif %}
      </li>
    </ul>
  </div>
</nav>

<html>
  <ul class="d-flex justify-content-center list-group px-5" style="padding-bottom: 80px">
  
    <div class="d-flex justify-content-between">
      <h4 class="pb-1 pt-4">Courses</h2>
     
    </div>

    <li class="list-group-item">
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Course</th>
            <th scope="col">Type</th>
            <th scope="col">Days</th>
            <th scope="col">Time</th>
            <th scope="col">Instructor</th>
            <th scope="col">Location</th>
          </tr>
        </thead>
        <tbody>
          {% for course in courses %}
          <tr>
            <td style="width:25%">{{course.subject}} {{course.number}} - {{course.title}}</td>
            <td style="width:10%">{{ course.credits }} Credits</td> 
            <td style="width:10%">{% for sp in course.days|splitDays %}
              {{sp}}
              <br>
              <br>
              {% endfor %}
            </td>
            <td style="width:20%">
              {% for sp in course.time|splitTimes %}
              {{sp}}
              <br>
              <br>
              {% endfor %}
            </td>
            <td style="width:15%">{{course.instructor}}</td>
            <td style="width:15%">{{course.location}}</td>
            <form action="/schedule/" method="post">
              {% csrf_token %}
              <input id="courseid" type="hidden" name="courseid" value="{{course.course_id}}">
              <input id="userid" type="hidden" name="userid" value="{{user.id}}">
  
              <td style="width:10%"><input type="submit" value="Remove" ></td>
            </form>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </li>
    
  </ul>
</html>